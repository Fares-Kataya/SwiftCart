<div class="navbar shadow-sm bg-transparent">
  <div class="flex-1">
    <a
      class="btn btn-ghost btn-xl hover:bg-[#D6E6F2] rounded-md text-3xl font-bold"
      routerLink="/"
    >
      <img src="/icons8-fast-cart-64.png" alt="SwiftCart Logo" />SwiftCart
    </a>
  </div>

  <div class="navbar-center hidden lg:flex flex-1">
    <ul class="menu menu-horizontal px-1">
      <li><a routerLink="/" class="text-xl font-semibold">Home</a></li>
      <li><a routerLink="/products" class="text-xl font-semibold">Products</a></li>
      <li><a routerLink="/about" class="text-xl font-semibold">About</a></li>
    </ul>
  </div>

  <div class="flex-none space-x-2">
    <!-- Search Input -->
    <input
      type="text"
      placeholder="Search"
      class="input input-bordered w-full md:w-auto bg-[#F7FBFC] rounded-2xl"
    />

    <!-- Shopping Cart Dropdown -->
    <div class="dropdown dropdown-end">
      <div
        tabindex="0"
        role="button"
        class="btn btn-ghost btn-circle hover:bg-[#D6E6F2]"
      >
        <div class="indicator">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
            />
          </svg>
          <span class="badge badge-xs bg-blue-800 text-white indicator-item">8</span>
        </div>
      </div>
      <div
        tabindex="0"
        class="card card-compact dropdown-content z-[1] mt-3 w-52 shadow bg-[#D6E6F2]"
      >
        <div class="card-body">
          <span class="text-lg font-bold">8 Items</span>
          <span class="text-info font-bold">Subtotal: $999</span>
          <div class="card-actions">
            <button class="btn btn-primary btn-block">View cart</button>
          </div>
        </div>
      </div>
    </div>

    <!-- User Authentication Section -->
    @if (isAuthenticated) {
      <div class="dropdown dropdown-end">
        <div tabindex="0" role="button" class="btn btn-ghost hover:bg-[#D6E6F2] flex items-center gap-1 px-1 relative top-2">
          <div class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0">
            @if (user()?.image) {
              <img
                [src]="user()?.image"
                [alt]="userDisplayName + ' avatar'"
                class="w-10 h-10 rounded-full object-cover"
              />
            } @else {
              <lucide-icon name="circle-user-round" class="w-8 h-8 text-gray-500"></lucide-icon>
            }
          </div>
          <div class="text-left hidden sm:block">
            <div class="font-semibold text-sm text-gray-800">
              {{ userFullName || userDisplayName }}
            </div>
          </div>
        </div>
        <ul
          tabindex="0"
          class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow"
        >
          <li>
            <a routerLink="/profile" class="justify-between">
              Profile
              <span class="badge">New</span>
            </a>
          </li>
          <li><a routerLink="/settings">Settings</a></li>
          <li><a (click)="logout()">Logout</a></li>
        </ul>
      </div>
    } @else {
      <div class="btn w-20">
        <a routerLink="/auth/login" class="w-full">Login</a>
      </div>
    }

    <!-- Language Selector -->
    <div class="dropdown dropdown-end">
      <div tabindex="0" role="button" class="btn m-1 btn-circle btn-ghost relative bottom-1">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
        >
          <!-- UK Flag SVG -->
          <rect x="1" y="4" width="30" height="24" rx="4" ry="4" fill="#071b65"></rect>
          <path d="M5.101,4h-.101c-1.981,0-3.615,1.444-3.933,3.334L26.899,28h.101c1.981,0,3.615-1.444,3.933-3.334L5.101,4Z" fill="#fff"></path>
          <path d="M22.25,19h-2.5l9.934,7.947c.387-.353,.704-.777,.929-1.257l-8.363-6.691Z" fill="#b92932"></path>
          <path d="M1.387,6.309l8.363,6.691h2.5L2.316,5.053c-.387,.353-.704,.777-.929,1.257Z" fill="#b92932"></path>
          <path d="M5,28h.101L30.933,7.334c-.318-1.891-1.952-3.334-3.933-3.334h-.101L1.067,24.666c.318,1.891,1.952,3.334,3.933,3.334Z" fill="#fff"></path>
          <rect x="13" y="4" width="6" height="24" fill="#fff"></rect>
          <rect x="1" y="13" width="30" height="6" fill="#fff"></rect>
          <rect x="14" y="4" width="4" height="24" fill="#b92932"></rect>
          <rect x="14" y="1" width="4" height="30" transform="translate(32) rotate(90)" fill="#b92932"></rect>
          <path d="M28.222,4.21l-9.222,7.376v1.414h.75l9.943-7.94c-.419-.384-.918-.671-1.471-.85Z" fill="#b92932"></path>
          <path d="M2.328,26.957c.414,.374,.904,.656,1.447,.832l9.225-7.38v-1.408h-.75L2.328,26.957Z" fill="#b92932"></path>
          <path d="M27,4H5c-2.209,0-4,1.791-4,4V24c0,2.209,1.791,4,4,4H27c2.209,0,4-1.791,4-4V8c0-2.209-1.791-4-4-4Zm3,20c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V8c0-1.654,1.346-3,3-3H27c1.654,0,3,1.346,3,3V24Z" opacity=".15"></path>
          <path d="M27,5H5c-1.657,0-3,1.343-3,3v1c0-1.657,1.343-3,3-3H27c1.657,0,3,1.343,3,3v-1c0-1.657-1.343-3-3-3Z" fill="#fff" opacity=".2"></path>
        </svg>
        en
      </div>
      <ul
        tabindex="0"
        class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow-sm"
      >
        <!-- Language Options -->
        <li>
          <a>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
              <!-- Spanish Flag -->
              <path fill="#f1c142" d="M1 10H31V22H1z"></path>
              <path d="M5,4H27c2.208,0,4,1.792,4,4v3H1v-3c0-2.208,1.792-4,4-4Z" fill="#a0251e"></path>
              <path d="M5,21H27c2.208,0,4,1.792,4,4v3H1v-3c0-2.208,1.792-4,4-4Z" transform="rotate(180 16 24.5)" fill="#a0251e"></path>
              <path d="M27,4H5c-2.209,0-4,1.791-4,4V24c0,2.209,1.791,4,4,4H27c2.209,0,4-1.791,4-4V8c0-2.209-1.791-4-4-4Zm3,20c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V8c0-1.654,1.346-3,3-3H27c1.654,0,3,1.346,3,3V24Z" opacity=".15"></path>
              <path d="M27,5H5c-1.657,0-3,1.343-3,3v1c0-1.657,1.343-3,3-3H27c1.657,0,3,1.343,3,3v-1c0-1.657-1.343-3-3-3Z" fill="#fff" opacity=".2"></path>
            </svg>
            espa√±ol
          </a>
        </li>
        <li>
          <a>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
              <!-- German Flag -->
              <path fill="#cc2b1d" d="M1 11H31V21H1z"></path>
              <path d="M5,4H27c2.208,0,4,1.792,4,4v4H1v-4c0-2.208,1.792-4,4-4Z"></path>
              <path d="M5,20H27c2.208,0,4,1.792,4,4v4H1v-4c0-2.208,1.792-4,4-4Z" transform="rotate(180 16 24)" fill="#f8d147"></path>
              <path d="M27,4H5c-2.209,0-4,1.791-4,4V24c0,2.209,1.791,4,4,4H27c2.209,0,4-1.791,4-4V8c0-2.209-1.791-4-4-4Zm3,20c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V8c0-1.654,1.346-3,3-3H27c1.654,0,3,1.346,3,3V24Z" opacity=".15"></path>
              <path d="M27,5H5c-1.657,0-3,1.343-3,3v1c0-1.657,1.343-3,3-3H27c1.657,0,3,1.343,3,3v-1c0-1.657-1.343-3-3-3Z" fill="#fff" opacity=".2"></path>
            </svg>
            Deutsch
          </a>
        </li>
        <!-- Add more language options as needed -->
      </ul>
    </div>
  </div>
</div>
